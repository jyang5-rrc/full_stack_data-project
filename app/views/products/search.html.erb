<div class="container mt-4 pb-5" id="category">
  <h1>Search Results</h1>
  <% if @results.present? %>
    <h6>Product List: <%=@results.count%> products</h6>
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Product image</th>
            <th scope="col">Product Name</th>
            <th scope="col">Price</th>
            <th scope="col">Brand</th>
            <th scope="col">Category</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @results.each_with_index do |product, index| %>
            <tr>
              <td><%= index + 1 %></td>
              <td>
                <div style="height: 15px; width: 15px; overflow: hidden; display: flex; justify-content: center; align-items: center;">
                  <%= image_tag product.image_link, class: "img-fluid", alt: product.product_name, style: "height: 100%; width: 100%; object-fit: cover;", onerror: "this.onerror=null;this.src='#{asset_path('placeholder.png')}'" %></td>
                </div>
              <td><%= product.product_name %></td>
              <td><%= product.price %></td>
              <td><%= product.brand&.brand_name %></td>
              <td><%= product.category&.category_name %></td>
              <td>
                <%= link_to 'View', product_path(product), class: 'btn btn-primary btn-sm' %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <p>No results found.</p>
  <% end %>
</div>
